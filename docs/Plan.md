## План автоматизации

### Тестовые сценарии

#### Купить - успешная операция
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv - генерируется с помощью метода;
1. Нажать "продолжить";
1. Сделать запрос в БД, чтобы найти запись об операции.

Ожидаемый результат: всплывающее окно "Успешно! Операция одобрена банком", в БД есть запись "APPROVED".

#### Купить в кредит - успешная операция
Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода;
1. Владелец - генерируется с помощью faker; 
1. cvc/cvv - генерируется с помощью метода;
1. Нажать "продолжить";
1. Сделать запрос в БД, чтобы найти запись об операции.

Ожидаемый результат: всплывающее окно "Успешно! Операция одобрена банком", в БД есть запись "APPROVED".

#### Купить - неуспешная операция
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4442;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker; 
1. cvc/cvv - генерируется с помощью метода;
1. Нажать "продолжить";
1. Сделать запрос в БД, чтобы найти запись об операции. 

Ожидаемый результат: всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД появилась запись в order_id, но не появилась запись в таблице payment_id. 

#### Купить в кредит - неуспешная операция
Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4442;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода;
1. Нажать "продолжить";
1. Сделать запрос в БД, чтобы найти запись об операции.

Ожидаемый результат: всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД появилась запись "DECLINED".


#### Купить. Оплата не происходит, с пустым полем "Номер карты"

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - оставить пустой;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Номер карты".

#### Купить. Оплата не происходит, если в поле "Номер карты" нет необходимого числа символов

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 44;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Номер карты".

#### Купить. Оплата не происходит, если в поле "Номер карты" указан неверный номер

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4444;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный номер карты".

#### Купить. После ввода валидного номера карты, предупреждение исчезает

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 44;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода;
1. Нажать "продолжить";
1. Проверить, что сообщение "Неверный формат" появилось под полем "Номер карты".
1. Ввести номер карты - 4444 4444 4444 4441
1. Нажать "продолжить".

Ожидаемый результат: всплывающее окно "Успешно! Операция одобрена банком", в БД есть запись "APPROVED".

#### Купить в кредит. Оплата не происходит, с пустым полем "Номер карты"

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - оставить пустой;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Номер карты".

#### Купить в кредит. Оплата не происходит, если в поле "Номер карты" нет необходимого числа символов

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 44;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Номер карты".


#### Купить в кредит. Оплата не происходит, если в поле "Номер карты" указан неверный номер

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4444;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный номер карты".


#### Купить. Оплата не происходит, если поле "Месяц" оставить пустой

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - оставить пустой;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Месяц".

#### Купить. Оплата не происходит, если в поле "Месяц" единичное значение

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 1;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под поле "Месяц".

#### Купить. Оплата не происходит, если в поле "Месяц" несуществующий месяц

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 23;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверно указан срок действия карты".

#### Купить. Оплата не происходит, если поле "Год" оставить пустой

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - оставить пустой; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем год.

#### Купить. Оплата не происходит, если указать год предшествующий текущему 

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - 2018; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Истёк срок действия карты".


#### Купить в кредит. Оплата не происходит, если поле "Месяц" оставить пустой

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - оставить пустой;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем месяц.

#### Купить в кредит. Оплата не происходит, если в поле "Месяц" единичное значение

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 1;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем месяц.

#### Купить в кредит. Оплата не происходит, если в поле "Месяц" несуществующий месяц

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 23;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверно указан срок действия карты".

#### Купить в кредит. Оплата не происходит, если поле "Год" оставить пустой

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - оставить пустой; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Год".

#### Купить в кредит. Оплата не происходит, если указать год предшествующий текущему 

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - 2018; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Истёк срок действия карты".


#### Купить. Оплата не происходит, если поле "Владелец" не заполнена

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - оставить пустой;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Поле обязательно для заполнения" под полем "Владелец".

#### Купить. Оплата не происходит, если в поле "Владелец" ввести символы на русском языке

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - Алёна Цой;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Владелец"

#### Купить. Оплата не происходит, если ввести цифры и знаки в поле "Владелец"

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - 0801№!;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Владелец"

#### Купить в кредит. Оплата не происходит, если поле "Владелец" не заполнена 

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - оставить пустой;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Поле обязательно для заполнения" под полем "Владелец".

#### Купить в кредит. Оплата не происходит, если в поле "Владелец" ввести символы на русском языке

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - Алёна Цой;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Владелец"

#### Купить в кредит. Оплата не происходит, если ввести цифры и знаки в поле "Владелец"

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - 0801№!;
1. cvc/cvv генерируется с помощью метода.

Ожидаемый результат: сообщение "Неверный формат" под полем "Владелец"

#### Купить. Оплата не происходит, если поле "cvc/cvv" не заполнено

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv - оставить пустой.

Ожидаемый результат: сообщение "Неверный формат" под полем "cvc/cvv"

#### Купить. Оплата не происходит, если в поле "cvc/cvv" единичное значение

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv - 1.

Ожидаемый результат: сообщение "Неверный формат" под полем "cvc/cvv"

#### Купить. Оплата не происходит, если в поле "cvc/cvv" две цифры

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv - 10.

Ожидаемый результат: сообщение "Неверный формат" под полем "cvc/cvv"

#### Купить в кредит. Оплата не происходит, если поле "cvc/cvv" не заполнено

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv - оставить пустой.

Ожидаемый результат: сообщение "Неверный формат" под полем "cvc/cvv"

#### Купить в кредит. Оплата не происходит, если в поле "cvc/cvv" единичное значение

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv - 1.

Ожидаемый результат: сообщение "Неверный формат" под полем "cvc/cvv"

#### Купить в кредит. Оплата не происходит, если в поле "cvc/cvv" две цифры

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:
1. Ввести номер карты - 4444 4444 4444 4441;
1. Ввести месяц - 01;
1. Ввести год - генерируется с помощью метода; 
1. Владелец - генерируется с помощью faker;
1. cvc/cvv - 10.

Ожидаемый результат: сообщение "Неверный формат" под полем "cvc/cvv"



### Перечень используемых инструментов с обоснованием выбора

* Java 8. Кросс-платформенная совместимость, автоматическое управление памятью, распространённость.
* IntelliJ IDEA. Интегрированная среда для написания тестов. Умное автодополнение, анализ кода в реальном времени и надежные рефакторинги.
* Junit-jupiter 5.5.1. Возможность создавать параметризованные тесты
* Selenide 5.3.1. Автоматическое управление браузером, более удобный синтаксис чем у Selenium.
* Faker. Генерирует уникальные данные.
* Allure. Наглядные отчёты.


### Перечень и описание возможных рисков при автоматизации
* Возникновение проблем с запуском контейнеров и SUT;
* Отсутствие ТЗ;
* Нехватка времени.


### Интервальная оценка с учетом рисков (в часах)
50 человекочасов.


### План сдачи работ
* Написание тестов до 29 февраля
* Предоставление отчетов до 31 февраля
